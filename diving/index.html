<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">

<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" href="/pro-ldap.css" type="text/css">
<title>Погружение в OpenLDAP</title>
<script src="/pro-ldap.js"></script>
<script src="book.js"></script>
</head>
<body>
<h1>Погружение в OpenLDAP</h1>
<p>Среди администраторов Unix-систем трудно найти человека, который не слышал бы о LDAP и наиболее известной и распространённой его реализации&thinsp;&mdash;&thinsp;OpenLDAP. Чаще всего это звучит так: "Слышал, есть такая штука, на ней можно построить SSO или адресную книгу, но сам не пробовал, почитай там-то". Есть и такие, кто пробовал, что-то читал, но нашёл всё это чересчур сложным и бросил. Кто-то оказался более настойчивым, довёл дело до ума, запустил рабочий каталог, построил на нём систему аутентификации и интегрировал какие-то службы. Наконец, самые трудолюбивые и небезразличные описали свой труд и выложили материалы в Интернет для потомков.</p>
<p>Вот тут, пожалуй, и начинается самое интересное. С ростом Интернета количество действительно хороших материалов в нём, увы, сокращается. Тому, конечно же, есть объективные причины: постоянное развитие информационных технологий требует от администраторов постоянного наращивания количества знаний, а это поглощает практически всё их время, а ведь надо ещё и экспериментировать и внедрять эти знания, да и рутины никто не отменял. Поэтому пережитком прошлого стали даже приличные HOWTO, не говоря уже о фундаментальных исследованиях в какой-либо сфере&thinsp;&mdash;&thinsp;на такое сейчас способны лишь профессиональные писатели, спонсируемые той или иной коммерческой организацией. Администраторам же, в лучшем случае, хватает времени лишь на то, чтобы черкнуть пару абзацев в блог о какой-нибудь найденной "фиче" или "баге", да помочь кому-нибудь на форуме.</p>
<p>Налицо замкнутый круг: более-менее полные публикации и HOWTO, которые можно найти в Интернете, написаны пять, десять, а то и более лет назад, и, конечно, уже далеко не так актуальны, как в момент написания, а новые материалы такого уровня попросту не появляются. Если брать OpenLDAP, то практически все HOWTO по настройке и интеграции с теми или иными службами датированы 2006 годом и ранее, и, конечно, в них нет никакого упоминания о современном методе конфигурации OpenLDAP&thinsp;&mdash;&thinsp;<code>cn=config</code>. С другой стороны, современные HOWTO, хоть и затрагивают эту тему, но оставляют впечатление, что автор не слишком-то углублялся в процесс&thinsp;&mdash;&thinsp;получилось, ну и ладно.</p>
<p>Есть и другой аспект&thinsp;&mdash;&thinsp;в публикациях освещается решение какой-то конкретной прикладной задачи, чаще всего интеграция простого каталога с какой-либо службой Unix, либо репликация двух (реже нескольких) каталогов. Но ведь этим сфера применения OpenLDAP не ограничивается. Практически нигде не найти информации об аутентификации и авторизации SASL, о применении механизмов манипуляции данными, отличных от back_mdb или back_bdb, а о наложениях (кроме syncrepl) мы порой и не подозреваем.</p>
<p>Конечно, вместить всё, о чём хочется рассказать, в одну статью или даже серию статей, невозможно. Поэтому и возникла идея написать книгу или книжку&thinsp;&mdash;&thinsp;как получится. Резонный вопрос: откуда возьмётся время у нас? Не знаем. Но начало, как известно,&thinsp;&mdash;&thinsp;половина дела, а оно уже положено, так что будем продолжать, а там&thinsp;&mdash;&thinsp;как Бог даст. Парни из ZyTrax писали свою <a href="//pro-ldap.ru/tr/zytrax/">книгу</a> почти 20 лет и до сих пор пишут, чем мы хуже?</p>
<h2>О чём эта книга</h2>
<p>В этой книге речь пойдёт о том, как работать с OpenLDAP, как настраивать его с помощью конфигурационного каталога <code>cn=config</code>. Сначала мы сделаем обзор способов конфигурации, затем опишем установку OpenLDAP в различных дистрибутивах операционных систем. Наконец, расскажем как "с нуля" проинициализировать и начать работу с конфигурационным каталогом <code>cn=config</code> (пожалуй, самый животрепещущий вопрос у начинающих администраторов OpenLDAP). Дальше, вероятнее всего, опишем различные варианты репликации syncrepl, работу с сертификатами TLS, аутентификацию SASL и другие вопросы, точного плана пока нет. Все материалы будут размещаться после детальной проверки "на макете" и актуализироваться по мере необходимости.</p>
<p>В тех случаях, когда будут иметь место специфичные для дистрибутива операционной системы параметры (такие как система управления пакетами, расположение директорий файловой системы и т.д.), мы будем приводить примеры для двух вариантов Linux: Ubuntu и Gentoo. Выбор именно этих дистрибутивов объясняется просто&thinsp;&mdash;&thinsp;они под рукой и всегда есть возможность провести эксперименты. Если кто-то хочет дополнить примеры сведениями, специфичными для своего любимого дистрибутива&thinsp;&mdash;&thinsp;милости просим, <a href="//pro-ldap.ru/forum/index.php?topic=41.0">свяжитесь с нами</a>, обговорим детали.</p>
<h2>О чём мы не будем говорить в этой книге</h2>
<p>Мы не будем рассматривать вариант настройки OpenLDAP с помощью конфигурационного файла <code>slapd.conf</code> (лишь немного поговорим о нём в первичном обзоре). Во-первых, об этом и так уже много написано, а во-вторых, нужно привыкать к правильному способу настройки, коим на данный момент является <code>cn=config</code>. А ещё здесь не пойдёт речь об интеграции OpenLDAP с какой бы то ни было службой Unix. Вероятнее всего, мы рассмотрим оба этих вопроса в одной из последующих книг.</p>
<h3>Содержание</h3>
<div class="contents">
<ul>
<li><span class="r">Глава 1. Обзор способов конфигурации OpenLDAP</span>
<ul>
    <li><span class="r">1.1 Динамическая конфигурация cn=config</span></li>
    <li><span class="r">1.2 Конфигурационный файл slapd.conf</span></li>
    <li><span class="r">1.3 Параметры запуска slapd</span></li>
</ul>
</li>
<li><span class="r">Глава 2. Установка OpenLDAP</span>
<ul>
    <li><span class="r">2.1 Установка в Ubuntu Linux</span></li>
    <li><span class="r">2.2 Установка в Gentoo Linux</span></li>
    <li><span class="r">2.3 Сборка из исходных кодов</span></li>
</ul>
</li>
<li><a href="./begin/index.html">Глава 3. Начало работы</a>
<ul>
    <li>3.1 Перед тем как начать
    <ul>
        <li><a href="./begin/pre-ubuntu.html">3.1.1 Ubuntu Linux</a></li>
        <li><a href="./begin/pre-gentoo.html">3.1.2 Gentoo Linux</a></li>
    </ul>
	</li>
    <li><a href="./begin/init.html">3.2 Инициализация каталога cn=config</a></li>
    <li><a href="./begin/module.html">3.3 Работа с модулями</a></li>
    <li><a href="./begin/db.html">3.4 Добавление и инициализация пользовательской базы данных</a></li>
    <li><a href="./begin/schema.html">3.5 Добавление наборов схемы данных</a></li>
    <li><a href="./begin/overlay.html">3.6 Добавление наложения</a></li>
    <li><a href="./begin/more.html">3.7 Чем заняться дальше</a></li>
</ul>
</li>
<li><a href="./groups/index.html">Глава N. Работа с группами в OpenLDAP</a>
<ul>
    <li><a href="./groups/initial_position.html">Исходное положение</a></li>
    <li><a href="./groups/static1.html">Статические группы: групповые условия в ACL и наложение refint</a></li>
	<li><a href="./groups/static2.html">Статические группы: наложение memberof</a></li>
	<li><a href="./groups/static3.html">Статические группы: POSIX-группы</a></li>
	<li><a href="./groups/dynamic1.html">Динамические группы: принципы построения. Сравнение наложений dynlist и autogroup</a></li>
	<li><a href="./groups/dynamic2.html">Динамические группы: примеры использования наложения dynlist</a>
    <ul>
        <li><a href="./groups/dynamic2.1.html">1. Классические динамические списки: построение списков рассылки</a></li>
		<li><a href="./groups/dynamic2.2.html">2. Динамические списки с перезаписью типов атрибутов: построение динамических POSIX-групп</a></li>
		<li><a href="./groups/dynamic2.3.html">3. Классические динамические группы</a></li>
		<li><a href="./groups/dynamic2.4.html">4. Всё сразу: пример множественной настройки</a></li>
        <li><a href="./groups/dynamic2.5.html">5. Нестандартная аутентификация</a></li>
    </ul>
    </li>
    <li><a href="./groups/dynamic3.html">Динамические группы: примеры использования наложения autogroup</a>
    <ul>
	    <li><a href="./groups/dynamic3.1.html">1. Автоматическое построение групп пользователей</a></li>
	    <li><a href="./groups/dynamic3.2.html">2. Автоматическое построение групп пользователей с поддержанием признака обратного членства в группе</a></li>
    </ul>
    </li>
    <li><a href="./groups/mutual1.html">Совместное применение статических и динамических групп</a>
    <ul>
	    <li><a href="./groups/mutual1.1.html">1. Имитация наложения memberof для классических групп</a></li>
	    <li><a href="./groups/mutual1.2.html">2. Имитация наложения memberof для POSIX-групп</a></li>
	    <li><a href="./groups/mutual1.3.html">3. Построение динамических POSIX-групп на основе классических статических групп</a></li>
    </ul>
    </li>
</ul>
</li>
<li><a href="./app1/index.html">Приложение 1: Соответствие директив конфигурационного файла slapd.conf атрибутам динамической конфигурации cn=config</a>
<ul>
	<li><a href="./app1/overlays.html">Конфигурация наложений</a></li>
</ul>
</li>
<li><a href="./app2/index.html">Приложение 2: Решение проблемных вопросов</a>
<ul>
	<li><a href="./app2/crc32.html">Восстановление контрольной суммы CRC32 LDIF-файла в конфигурации cn=config</a></li>
</ul>
</li>
</ul>
</div>
<div class="about"><a href="//pro-ldap.ru">Pro-LDAP.ru</a> 2013-2019 г. Последнее изменение страницы&thinsp;&mdash;&thinsp;28 декабря 2018 г. Вопросы и предложения принимаются на <a href="//pro-ldap.ru/forum/index.php?topic=41.0">форуме проекта</a>.</div>
</body></html>
